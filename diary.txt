ê°œë°œì¼ì§€
---------------
24.03.26
-prismaì—°ê²° nextë¹Œë“œí• ë•Œ
next.config.jsì— exportê°€ outì¸ ê²½ìš° -> ë°°í¬ë¼ë˜ê°€?
routeë˜ëŠ” ê²½ë¡œ ì•„ë˜ page.tsxì—” generateStaticParams()ê°€ í•„ìˆ˜ë‹¤.
ìš”ë…€ì„ì€ returnì´ ë°°ì—´ì´ì–´ì•¼í•˜ë‚˜?

ë˜í•œ 'use client'ì™€ í˜¼ìš©í•  ìˆ˜ ì—†ë‹¤. ->ë¹Œë“œ ë•Œë¬¸ì€ ì•„ë‹Œê±° ê°™ê³  useí•¨ìˆ˜ë“¤ì€ ê°œë³„ componentì—ì„œ ì“°ê³ 
pageì— ë‚‘ê²¨ë„£ì–´ì„œ ì‚¬ìš©í•´ì•¼í•˜ëŠ”ë“¯ í•˜ë‹¤.

ì•„ì§ê¹Œì§„ êµ¬ì¡°ë¥¼ ìµíˆëŠ”ë° ì—ë„ˆì§€ê°€ ë§ì´ ë“¤ì–´ê°„ë‹¤.

page.tsxì— exportë˜ëŠ” ë…€ì„ì—” asyncë¥¼ ë‹¬ìˆ˜ì—†ëŠ”ê±° ê°™ë‹¤.

planetsacle ìš”ë…€ì„ì´ ë§¤ì¼ ê»ë‹¤ ì¼œì¡‹ë‹¤ í•˜ëŠ”ë…€ì„ê°™ë‹¤. mysql ë¬´ë£Œë²„ì „ì¸ë° ì—­ì‹œ ë¬´ë£ŒëŠ” ë¬´ë£Œë‹¤.

NEON ìš”ë…€ì„ì€ postgre ë¬´ë£Œë²„ì ¼ì¸ë° ì¢€ë” ì§€ì¼œë´ì•¼ê² ë”°.

ORM libë¥¼ prismaë¡œ ì„ íƒí•œê²Œ ê³¼ì—°..ë§ëŠ”ê±¸ê¹Œ í•˜ëŠ” ì˜ë¬¸ì´ ë“¤ê¸° ì‹œì‘í–ˆë‹¤.

prismaëŠ” SSLì´ ê¸°ë³¸ì¸ê°€?

.envì— secret keyê°’ì´ ë“¤ì–´ê°€ë©´ ê¹ƒí—™ì—ì„œ pushí• ë•Œ ì •ì±…ì— ê±¸ë¦°ë‹¤.
ê·¸ê±¸ í—ˆìš©í•˜ê²Œ í• ìˆ˜ë„ ìˆëŠ”ë° ë§‰ëŠ”ê²Œ ë§ëŠ”ê±°ê°™ë‹¤.

------------------------
24.03.27
reactì—ì„œ hookí˜„ìƒ ë•Œë¬¸ì¸ì§€ componentê°€ ë‘ë²ˆ mountëœë‹¤ê³  í•œë‹¤.
ì§€ê¸ˆì•„ëŠ” ì§€ì‹ìœ¼ë¡œëŠ” isMounted ìƒíƒœí•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ì„œ renderingì „ ë§ˆìš´íŠ¸ìƒíƒœì—ë”°ë¼ return null ì‹œí‚¨ë‹¤.

folderêµ¬ì¡° layoutì—ì„œ ë°”ë¡œ componentí˜¸ì¶œ í˜•ì‹ìœ¼ë¡œ ë³€ê²½ -> childrení•œí…Œ props ì „ë‹¬ì´ ì˜ ì•ˆëŒ.

folderêµ¬ì¡° pageì—ì„œ generateStaticParams()ì€ urlë§¤í•‘ë˜ëŠ” ë¶€ë¶„(ë¼ìš°íŒ…)ì„ ë‹´ë‹¹í•˜ë¯€ë¡œ ìš°ì„ ì ìœ¼ë¡œ ë“±ë¡ë˜ì–´ìˆëŠ” ë‚ ì§œ ê°€ì ¸ì™€ì„œ ë°°ì—´ë¡œ return;

json í˜•íƒœëŠ” interfaceë¡œ ì„ ì–¸í•œë‹¤ìŒ í•´ì•¼í•˜ë‚˜ë³´ë‹¤ -> keyê°’ì„ dynamicìœ¼ë¡œ í• ê²½ìš°

ë°ì´í„° ëŒì–´ì˜¤ëŠ”ê±°ê¹Œì§€ëŠ” ì„±ê³µí–ˆë‹¤.

------------------------------
24.03.28

routeì—ì„œ ì—ëŸ¬ë‚˜ë˜ê±° í•´ê²°..
export const dynamic = "force-static";
ì´ê±° íŒŒì¼ ëë¶€ë¶„ì— ë„£ì–´ì£¼ë‹ˆê¹Œ ë¨..
ver.14 ë¶€í„°..?

ìš´ì „ìëª… ì—…ë°ì´íŠ¸ ì„±ê³µ
ì„œë¹„ìŠ¤ëª…ìœ¼ë¡œ ë¶„ê¸°í•´ì„œ updateí•˜ëŠ” ì‘ì—… ì§„í–‰ì¤‘

------------------------------------
24.03.29
iwinv í˜¸ìŠ¤íŒ…ì„œë²„ ë“±ë¡í•¨..
ì´ì œë¶€í„´ í™˜ê²½ì„¤ì • í•´ì•¼í•œë‹¤.


============ì„œë²„í™˜ê²½êµ¬ì„±=============

1. [NodeJS]
sudo apt-get update
sudo apt-get install build-essential
sudo apt-get install curl
curl -sL https://deb.nodesource.com/setup_18.x | sudo -E bash -- 
sudo apt-get install nodejs
	-> node -v ë²„ì „í™•ì¸

2. [GIT]
sudo apt-get install git

3. [NGINX]
sudo apt-get install nginx
sudo systemctl status nginx
	-> ì„œë²„ì ‘ì† í›„ welcome nginx í™•ì¸ğŸ˜

cd /etc/nginx/conf.d
touch ë„ë©”ì¸ëª….conf
vi ë„ë©”ì¸ëª….conf

[VIP]
 


```
server {
        # SSL configuration

        listen 443 ssl http2 default_server;
        listen [::]:443 ssl http2 default_server;
        client_max_body_size 10M;

        server_name www.dasung.co.kr dasung.co.kr;
        ssl_certificate "/etc/letsencrypt/live/dasung.co.kr/fullchain.pem";
        ssl_certificate_key "/etc/letsencrypt/live/dasung.co.kr/privkey.pem";
        add_header Strict-Transport-Security "max-age=31536000";

        location / {
                proxy_set_header Host $host;
                proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
                proxy_set_header X-Forwarded-Proto $scheme;
                proxy_set_header Upgrade $http_upgrade;
                proxy_set_header Connection "upgrade";
                proxy_set_header X-Real-IP $remote_addr;
                proxy_pass http://localhost:3000;
        }
}

server {
        listen 80;
        listen [::]:80;
        server_name www.dasung.co.kr dasung.co.kr;
        root /var/www/dasung/out/;
        location / {
                return 301 https://dasung.co.kr;
        }
        location /_next/webpack-hmr{
                proxy_pass http://localhost:3000/_next/webpack-hmr;
                proxy_http_version 1.1;
                proxy_set_header Upgrade $http_upgrade;
                proxy_set_header Connection "upgrade";
        }

}
/home/admin/dev/dasung/dasung

```
cd..
vi nginx.conf
ê¸°ë³¸ì„¤ì • confì£¼ì„

4. [nohup]
sudo apt-get install nohup

killëª…ë ¹ì–´ ë©€í‹°?âœ…
$ 'ps -ef|grep -E "npm|next-"|grep -v "grep"|gawk -F `print $2`|xargs kill' ğŸ˜
---------------------
24.03.31
ê³µì¥ì„ íƒí•˜ëŠ” ì²«í™”ë©´ ë§Œë“¤ê¸°
router depthí•˜ë‚˜ ë” ìƒì„±
websocket url ì¶”ê°€
---------------------
24.04.01
í…Œì´ë¸” ë°ì´í„° ì—°ë™ì‹œí‚¤ê¸°
ë¡œë”©ë°”
 'ps -ef|grep -E "npm|next-"|grep -v "grep"'
```
   netstat -na --ip                                     : tcp/udpì˜ ì„¸ì…˜ ëª©ë¡ í‘œì‹œ
   netstat -na | grep ESTABLISHED | wc -l               : í™œì„±í™”ëœ ì„¸ì…˜ìˆ˜ í™•ì¸
   netstat -nap | grep :80 | grep ESTABLISHED | wc -l   : 80í¬íŠ¸ ë™ì‹œ ì ‘ì†ììˆ˜
   netstat -nltp                                        : LISTEN ì¤‘ì¸ í¬íŠ¸ ì •ë³´ í‘œì‹œ
   netstat -r                                           : ì„œë²„ì˜ ë¼ìš°íŒ… í…Œì´ë¸” ì¶œë ¥
```
----------------------
24.04.03
[JAVA]â˜•
```
$ sudo apt install openjdk-17-jdk
```
[Jenkins]ğŸ‘¨â€ğŸ³
1. key ë‹¤ìš´ë¡œë“œ?
```
$ sudo wget -O /usr/share/keyrings/jenkins-keyring.asc \
    https://pkg.jenkins.io/debian-stable/jenkins.io-2023.key
```
2. repository ìƒì„±?
```
$ echo deb [signed-by=/usr/share/keyrings/jenkins-keyring.asc] \
    https://pkg.jenkins.io/debian-stable binary/ | sudo tee \
    /etc/apt/sources.list.d/jenkins.list > /dev/null
```
3. ì„¤ì¹˜
```
$ sudo apt-get update
$ sudo apt-get install jenkins
```
4. ì ‘ì†
http://localhost:8080
ì´ˆê¸° ë¹„ë°€ë²ˆí˜¸ unlock
vi /var/lib/jenkins/secrets/initialAdminPassword

# jenkins status í™•ì¸
sudo systemctl status jenkins

# jenkins ì‹œì‘
sudo systemctl start jenkins
# jenkins ë©ˆì¶¤
sudo systemctl stop jenkins

studioë‘ ì  í‚¨ìŠ¤ ë©”ëª¨ë¦¬ ë¶€ì¡± ë¬¸ì œë¡œ ëª»ëŒë¦¼..
----------------------------------------

24.04.05
job ë°ì´í„° êµ¬ì¡° key:[]ë¡œ ë³€ê²½ -> ì¤‘ë³µì‹œê°„ ê°€ëŠ¥í•´ì•¼í•¨
ê³µì¥ë³„ ë¹„ë°€ë²ˆí˜¸ ë‹¬ê¸° ì„±ê³µ
TODO: í•´ì•¼í• ê±°
    ê´€ë¦¬ì ëŒ€ì‰¬ë³´ë“œ ë§Œë“¤ê³  ì°¨íŠ¸ -> ì¼ë³„, ì›”ë³„, ë…„ë³„ ëˆ„ê³„ í•„ìš”
     ã„´> í”ŒëŸ¬ìŠ¤ ì§€ë‚œì¼ì ë°ì´í„° ì…ë ¥ í¼ í•„ìš”
    ìì‚°(ì°¨ëŸ‰,ìš´ì „ì)ê´€ë¦¬ ê¸°ëŠ¥ ë§Œë“¤ì–´ì•¼í•¨
    ë””ìì¸?
----------------------------------------
24.04.10
í”„ë¦°íŠ¸ì‹œ ë””ìì¸ ë³€ê²½.
í†µê³„ë¶€ë¶„ ë§Œë“¤ì–´ì•¼í•¨
---------------------------------------
24.04.17
í•œë²ˆë§Œ ìˆ˜í–‰í•˜ëŠ” ë°©ë²• ì°¾ìŒ
mount ë³€ìˆ˜ë¥¼ useRefë¡œ ì„ ì–¸í•˜ê³ 
useEffectì—ì„œ returnì„ mountë³€ìˆ˜ flagë¥¼ ë°”ê¾¸ëŠ” ë°©ì‹
---------------------------------------
24.04.18
ë¹„ë°€ë²ˆí˜¸ ë³€ê²½í•˜ëŠ”ê±° ì‘ì—…í•¨
postFetcherì‚¬ìš©ì¤‘ì— url ì˜¤íƒ€ê°€ ìˆì—ˆë”ë‹ˆ
(route)í´ë” ì•„ë˜ ìˆœì°¨ì ìœ¼ë¡œ ë’¤ì§€ëŠ”ë“¯ í–ˆë‹¤.
ì´ê±°ë•Œë§¤ ê°œë¹¡ì³¤ë”°.
ì´ì œ ë””ìì¸ ì¢€ ë³€ê²½í•˜ê³  í•´ì•¼ê² ë‹¤.
ë§ˆë¬´ë¦¬ ì¤€ë¹„
ì´ˆê¸°ë°ì´í„° ì ì¬í•˜ëŠ”ê±°ë„ ë§Œë“¤ì–´ì•¼í• ë“¯
--------------------------------------------
prisma db push => í˜„ì¬ í…Œì´ë¸” ë””ë¹„ì— ë°˜ì˜?
==24.04.23==
ìš´ì˜ì„œë²„ì„¤ì •
[iwinv]
dasung04 / 12qwaszx,./
[VIP]
49.247.173.105
[domain]
dasung.co.kr
root / 12qwaszx,./

-----------------------
25.01.18
ë©”ì¸ê³µìœ ê¸° DMZì„¤ì •í•´ì„œ 2ì¸µ ê³µìœ ê¸° ëš«ê³ 
NEXTê³µìœ ê¸° í¬íŠ¸í¬ì›Œë”© ì„¤ì •í•˜ê³ 
nginx ì„¤ì¹˜ : : sudo apt install nginx
git ì„¤ì¹˜ : sudo apt install git
nodejsì„¤ì¹˜ : sudo apt install nodejs
npmì„¤ì¹˜ : sudo apt install npm
pm2ì„¤ì¹˜ : sudo npm install pm2 -g

ê¹ƒí—™cliì„¤ì¹˜
```
(type -p wget >/dev/null || (sudo apt update && sudo apt-get install wget -y)) \
	&& sudo mkdir -p -m 755 /etc/apt/keyrings \
        && out=$(mktemp) && wget -nv -O$out https://cli.github.com/packages/githubcli-archive-keyring.gpg \
        && cat $out | sudo tee /etc/apt/keyrings/githubcli-archive-keyring.gpg > /dev/null \
	&& sudo chmod go+r /etc/apt/keyrings/githubcli-archive-keyring.gpg \
	&& echo "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/githubcli-archive-keyring.gpg] https://cli.github.com/packages stable main" | sudo tee /etc/apt/sources.list.d/github-cli.list > /dev/null \
	&& sudo apt update \
	&& sudo apt install gh -y
```
ê¹ƒí—™ ë¡œê·¸ì¸
$ gh auth login~
ì†ŒìŠ¤ í´ë¡ 
$ gh repo clone Addwords/dasung

$ pm2 start npm --name "dasung" -- start
